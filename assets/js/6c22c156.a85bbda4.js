"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[489],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=a,h=p["".concat(s,".").concat(m)]||p[m]||u[m]||o;return n?r.createElement(h,i(i({ref:t},d),{},{components:n})):r.createElement(h,i({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:a,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1002:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var r=n(7462),a=(n(7294),n(3905));const o={sidebar_position:2,title:"ORM",description:"Description of how the framework simplifies database interactions."},i="ORM (Object-Relational Mapping)",l={unversionedId:"core-features/orm",id:"core-features/orm",title:"ORM",description:"Description of how the framework simplifies database interactions.",source:"@site/docs/core-features/orm.md",sourceDirName:"core-features",slug:"/core-features/orm",permalink:"/docs/core-features/orm",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"ORM",description:"Description of how the framework simplifies database interactions."},sidebar:"sidebar",previous:{title:"Routing",permalink:"/docs/core-features/routing"},next:{title:"Templating Engine",permalink:"/docs/core-features/templating-engine"}},s={},c=[{value:"Getting Started",id:"getting-started",level:3},{value:"Basic CRUD Operations",id:"basic-crud-operations",level:3},{value:"Advanced Querying",id:"advanced-querying",level:3},{value:"Relations",id:"relations",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Conclusion",id:"conclusion",level:3}],d={toc:c},p="wrapper";function u(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"orm-object-relational-mapping"},"ORM (Object-Relational Mapping)"),(0,a.kt)("p",null,"The ORM (Object-Relational Mapping) in our framework is designed to simplify database interactions and improve data consistency. The ORM maps database tables to PHP classes, allowing you to interact with your data in an object-oriented way."),(0,a.kt)("h3",{id:"getting-started"},"Getting Started"),(0,a.kt)("p",null,"To get started with the ORM, you'll need to create a model that extends the ORM class. Fields in your model should be protected properties."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"use Core\\Entity;\n\nclass ArticleModel extends Entity\n{\n  protected $title;\n  protected $content;\n}\n")),(0,a.kt)("h3",{id:"basic-crud-operations"},"Basic CRUD Operations"),(0,a.kt)("p",null,"The ORM supports basic CRUD (Create, Read, Update, Delete) operations. To create a new record, use the create() method."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'$model = new ArticleModel([\n  "title" => "A great title",\n  "content" => "This is a wonderful blog article",\n]);\n$model->create();\n')),(0,a.kt)("p",null,"To read a record by ID, use the read() method."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$article = $model->read(1);\n")),(0,a.kt)("p",null,"To update a record, use the update() method."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'$model = new ArticleModel([\n  "title" => "A great title",\n  "content" => "This is a wonderful blog article",\n]);\n$model->update(1);\n')),(0,a.kt)("p",null,"To delete a record by ID, use the delete() method."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"$model->delete(1);\n")),(0,a.kt)("h3",{id:"advanced-querying"},"Advanced Querying"),(0,a.kt)("p",null,"The ORM also supports advanced querying with the find() method. You can pass an associative array of parameters to the find() method to customize the query. By default, the find() method returns all records in the specified table."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'$articles = $model->find([\n  "WHERE" => "title = \'A great title\'",\n  "ORDER BY" => "id ASC",\n  "LIMIT" => "10"\n]);\n')),(0,a.kt)("h3",{id:"relations"},"Relations"),(0,a.kt)("p",null,"The ORM also supports relations between tables. To define a one-to-many relation, add the addOneToMany() method to the parent constructor."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'use Core\\Entity;\n\nclass ArticleModel extends Entity\n{\n  protected $title;\n  protected $content;\n  protected $user_id;\n\n  public function __construct() {\n    parent::__construct();\n    $this->addOneToMany("users");\n  }\n}\n')),(0,a.kt)("p",null,"To define a many-to-many relation, add the addManyToMany() method to one of the two tables."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'use Core\\Entity;\n\nclass ArticleModel extends Entity\n{\n  protected $title;\n  protected $content;\n  protected $user_id;\n\n  public function __construct() {\n    parent::__construct();\n    $this->addManyToMany("tags");\n  }\n}\n')),(0,a.kt)("p",null,"Once the relations are defined, you can use them in your queries."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'$model = new UserModel();\n$user_articles = $model->find([\n  "WHERE" => "title = \'A great title\'",\n  "ORDER BY" => "articles.id ASC",\n  "LIMIT" => "10"\n]);\n')),(0,a.kt)("h3",{id:"error-handling"},"Error Handling"),(0,a.kt)("p",null,"The ORM includes error handling to help you catch and handle errors when interacting with the database. If an error occurs during a query, the ORM will throw an exception."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},'try {\n  ORM::create([\n    "title" => "A great title",\n    "content" => "This is a wonderful blog article",\n  ]);\n} catch (Exception $e) {\n  echo "Error: " . $e->getMessage();\n}\n')),(0,a.kt)("h3",{id:"conclusion"},"Conclusion"),(0,a.kt)("p",null,"In conclusion, the ORM in our framework simplifies database interactions and improves data consistency. With support for basic CRUD operations, advanced querying, and relations, the ORM is a powerful tool for managing your data in a PHP project."))}u.isMDXComponent=!0}}]);